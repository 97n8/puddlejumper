:root{color-scheme:light;font-family:IBM Plex Sans,Segoe UI,sans-serif;line-height:1.45;--bg: #f4f5f8;--card: #ffffff;--ink: #111827;--subtle: #4b5563;--line: #d5dae3;--line-soft: #e6e9ef;--action: #1f2937;--action-ink: #ffffff;--warning-bg: #fff7db;--warning-line: #d7b35b;--critical-bg: #fff1ef;--critical-line: #d5664f;--success-bg: #edf8f1;--success-line: #7ab18f}*{box-sizing:border-box}body{margin:0;min-height:100vh;background:var(--bg);color:var(--ink)}button,input,textarea,select{font:inherit}button{border:1px solid var(--action);background:var(--action);color:var(--action-ink);border-radius:8px;padding:.5rem .85rem;cursor:pointer}button.secondary{background:transparent;color:var(--action)}button:disabled{cursor:not-allowed;opacity:.65}a{color:#244374;text-decoration:none}a:hover{text-decoration:underline}.loading{min-height:100vh;display:grid;place-items:center}.login-shell{min-height:100vh;display:grid;place-items:center;padding:1.5rem}.login-card{width:min(420px,100%);background:var(--card);border:1px solid var(--line);border-radius:12px;padding:1.5rem}.login-card h1{margin:0 0 .35rem;font-size:1.25rem}.login-card p{margin:0 0 1rem;color:var(--subtle)}.login-card form{display:grid;gap:.85rem}label{display:grid;gap:.35rem;font-size:.92rem}input,textarea,select{border:1px solid var(--line);border-radius:8px;padding:.52rem .65rem;background:#fff;color:inherit}textarea{font-family:IBM Plex Mono,SFMono-Regular,Menlo,monospace;font-size:.9rem}.error{margin:0;color:#b91c1c;font-size:.88rem}.notice{margin:0;background:#eff3ff;border:1px solid #bed0ff;color:#21355d;border-radius:10px;padding:.55rem .7rem;font-size:.9rem}.notice.compact{padding:.35rem .5rem;font-size:.82rem}.recovery-card{border:1px solid #d6a545;background:#fff7df;border-radius:10px;padding:.75rem}.recovery-card h3{margin:0 0 .35rem}.recovery-card p{margin:0;font-size:.9rem}.recovery-card pre{margin:.6rem 0 0;max-height:200px;overflow:auto;padding:.55rem;border:1px solid #eed3a2;border-radius:8px;background:#fffdf7;font-size:.8rem}.recovery-actions{margin-top:.6rem;display:flex;flex-wrap:wrap;gap:.5rem}.subtle{margin:0;color:var(--subtle);font-size:.88rem}.portal-shell{min-height:100vh;display:flex;flex-direction:column;gap:.8rem;padding:1rem}.portal-header{display:flex;justify-content:space-between;align-items:flex-start;gap:.8rem}.portal-header h1{margin:0;font-size:1.35rem}.portal-banner{background:#f1f3f6;border-left:4px solid #5f6f86;padding:.65rem .85rem;border-radius:6px}.portal-banner p{margin:0;font-size:.9rem}.portal-positioning{background:linear-gradient(180deg,#f7fbff,#eef4fb);border:1px solid #cfd9e8;border-radius:10px;padding:.95rem 1rem;display:grid;gap:.65rem}.portal-positioning h2{margin:0;font-size:1.02rem}.portal-positioning ul{margin:0;padding-left:1.05rem;display:grid;gap:.45rem}.portal-positioning li{font-size:.9rem;color:#1f2b40}.portal-layout{flex:1;min-height:0;display:grid;gap:.9rem;grid-template-columns:minmax(450px,1.05fr) minmax(420px,.95fr)}.pane{min-height:0;display:flex;flex-direction:column;gap:.9rem}.card{background:var(--card);border-radius:12px;padding:.95rem;box-shadow:0 1px #11182708,0 0 0 1px #11182714}.card h2,.card h3,.card h4{margin:0 0 .5rem}.controls-grid{display:grid;gap:.65rem;margin-top:.5rem}.inline-row{display:flex;align-items:center;gap:.5rem}.inline-row>input,.inline-row>select{flex:1}.file-tree-section{border:1px solid #d8dee8;border-radius:10px;padding:.65rem;background:#f8fafd}.file-tree-toolbar{display:grid;gap:.55rem}.file-tree-search-wrap{display:grid;gap:.35rem}.file-tree-search-label{font-size:.77rem;font-weight:600;color:#4b5563;letter-spacing:.02em}.file-tree-search-shell{display:flex;align-items:center;gap:.45rem;border:1px solid #c7cfdb;border-radius:8px;background:#fff;padding:.5rem .6rem}.file-tree-search-shell input{border:none;background:transparent;padding:0;flex:1;min-width:0;font-size:.92rem}.file-tree-search-shell input:focus{outline:none}.file-tree-search-shell:focus-within{border-color:#7f93b7;box-shadow:0 0 0 3px #7f93b733}.file-tree-clear{border:1px solid #d1d8e3;border-radius:999px;background:#f3f6fb;color:#334155;padding:.12rem .46rem;font-size:.73rem}.file-tree-toolbar-actions{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.file-tree-shortcut-hint{margin:0;font-size:.78rem;color:#6b7280}.file-tree-shortcut-hint kbd{border:1px solid var(--line);border-bottom-width:2px;border-radius:4px;background:#fff;padding:.05rem .3rem;font-size:.75rem;font-family:IBM Plex Mono,SFMono-Regular,Menlo,monospace}.file-tree{border:1px solid #d7dde8;border-radius:8px;background:#fff;max-height:340px;overflow:auto;padding:.2rem 0}.file-tree-node{width:100%;border:none;border-radius:0;background:transparent;color:#13203a;text-align:left;display:flex;align-items:center;gap:.45rem;min-height:2rem;padding-top:.18rem;padding-bottom:.18rem;font-size:.87rem;line-height:1.22}.file-tree-directory{font-weight:600}.file-tree-directory:hover,.file-tree-file:hover{background:#f1f5fc}.file-tree-file{font-weight:450}.file-tree-selected{background:#dfe9fb;color:#0f2247;font-weight:600}.file-tree-caret{width:.75rem;height:.75rem;flex-shrink:0;position:relative}.file-tree-caret:before{content:"";position:absolute;top:.18rem;left:.15rem;width:0;height:0;border-top:.23rem solid transparent;border-bottom:.23rem solid transparent;border-left:.28rem solid #6b7280;transition:transform .12s ease}.file-tree-caret-open:before{transform:rotate(90deg);transform-origin:.08rem .22rem}.file-tree-dot{width:.75rem;height:.75rem;flex-shrink:0;position:relative}.file-tree-dot:before{content:"";position:absolute;top:.28rem;left:.18rem;width:.3rem;height:.3rem;border-radius:999px;background:#9aa7bf}.file-tree-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-tree-selected .file-tree-dot:before{background:#3f5f9b}.target-summary{margin-top:.65rem;background:#f7f8fb;border:1px solid var(--line-soft);border-radius:8px;padding:.65rem}.target-summary p{margin:0 0 .35rem;font-size:.84rem}.target-summary p:last-child{margin-bottom:0}.preview-safety-warning{display:flex;align-items:flex-start;gap:.45rem;margin-left:auto;max-width:390px;border-left:3px solid #d29a30;background:#fff9eb;color:#7f4c08;border-radius:8px;padding:.45rem .55rem;font-size:.77rem}.preview-safety-warning p{margin:0;line-height:1.3}.context-section{display:flex;flex-direction:column;gap:.6rem}.context-grid{display:grid;gap:.55rem;grid-template-columns:repeat(2,minmax(0,1fr))}.module-grid{display:grid;gap:.45rem;grid-template-columns:repeat(2,minmax(0,1fr))}.checkbox-row{display:flex;gap:.45rem;align-items:flex-start;font-size:.87rem}.inline-errors{display:grid;gap:.25rem}.context-actions{display:flex;align-items:center;gap:.55rem}.derived-authority-card{border:1px solid #d5dbe5;border-radius:10px;background:#f4f6f9;padding:.65rem .75rem;display:grid;gap:.35rem}.derived-authority-head{display:flex;align-items:center;gap:.4rem;color:#334155;font-weight:600;font-size:.82rem}.derived-authority-head p{margin:0}.derived-authority-list{margin:0;padding-left:1rem;color:#475569;font-size:.78rem}.intent-card{display:grid;gap:.55rem}.intent-helper{margin-bottom:.1rem}.intent-example-row{display:flex;justify-content:flex-start}.intent-statement-input{border:1px solid #c9d4e4;border-radius:10px;min-height:130px;padding:.65rem;resize:vertical}.intent-statement-input:focus{outline:none;border-color:#5e9d86;box-shadow:0 0 0 3px #5e9d8633}.intent-meta-row{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.intent-length{font-size:.78rem}.editor-card textarea{width:100%;min-height:420px;resize:vertical}.preview-card iframe{width:100%;min-height:300px;border:1px solid var(--line-soft);border-radius:10px;background:#fff}.status-card p{margin:0 0 .45rem;font-size:.9rem}.rollback-card pre{margin:.5rem 0 0;max-height:220px;overflow:auto;padding:.6rem;border:1px solid var(--line-soft);border-radius:8px;background:#fafafa;font-size:.8rem}.emergency-card{display:grid;gap:.6rem}.emergency-active{border:1px solid #f1c97a;background:#fff8e7;border-radius:8px;padding:.55rem .65rem}.emergency-active p{margin:0 0 .3rem;font-size:.83rem}.emergency-active p:last-child{margin-bottom:0}.emergency-grid{display:grid;gap:.5rem;grid-template-columns:repeat(2,minmax(0,1fr))}.emergency-grid label:last-child{grid-column:1 / -1}.emergency-grid textarea{min-height:84px;resize:vertical}.emergency-checklist{border:1px solid var(--line-soft);border-radius:8px;background:#f8fafc;padding:.55rem;display:grid;gap:.35rem}.transfer-package-card{display:grid;gap:.55rem}.transfer-summary{border:1px solid var(--line-soft);border-radius:8px;background:#f8fafc;padding:.55rem .65rem}.transfer-summary p{margin:0 0 .3rem;font-size:.83rem}.transfer-summary p:last-child{margin-bottom:0}.transfer-package-card pre{margin:0;max-height:260px;overflow:auto;padding:.55rem;border:1px solid var(--line-soft);border-radius:8px;background:#fafafa;font-size:.76rem}.error-card pre{margin:0;max-height:230px;overflow:auto;padding:.6rem;border:1px solid var(--line-soft);border-radius:8px;background:#fafafa;font-size:.77rem}.audit-card ul{list-style:none;margin:0;padding:0;max-height:250px;overflow:auto}.audit-card li{display:grid;grid-template-columns:1.4fr .8fr 1.5fr .7fr 1.2fr;gap:.35rem;padding:.4rem 0;border-top:1px solid var(--line-soft);font-size:.79rem}.audit-card li:first-child{border-top:none}.memory-section{display:grid;gap:.6rem}.memory-toolbar{display:grid;grid-template-columns:minmax(220px,1fr) auto;gap:.6rem;align-items:end}.memory-prompt{border:1px solid var(--line-soft);border-radius:10px;padding:.7rem;background:#f8fafc;display:grid;gap:.55rem}.memory-prompt textarea{min-height:100px;resize:vertical}.memory-table-wrap{max-height:260px;overflow:auto;border:1px solid var(--line-soft);border-radius:8px}.memory-table{width:100%;border-collapse:collapse;font-size:.79rem}.memory-table th,.memory-table td{text-align:left;padding:.45rem;border-bottom:1px solid var(--line-soft);vertical-align:top}.memory-table thead th{position:sticky;top:0;background:#f7f9fc}.success-text{color:#2f6f46;border:1px solid var(--success-line);background:var(--success-bg);border-radius:8px;padding:.55rem .65rem}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#1118278c;display:grid;place-items:center;padding:1rem;z-index:60}.modal-card{width:min(980px,100%);max-height:92vh;overflow:auto;background:#fff;border-radius:12px;padding:1rem}.summary-block{background:#f5f8ff;border:1px solid #c9d7ff;border-radius:8px;padding:.55rem .65rem;margin:.55rem 0}.review-section{margin-top:.7rem;padding-top:.7rem;border-top:1px solid var(--line-soft)}.structure-item{border:1px solid var(--line-soft);border-radius:8px;padding:.55rem;margin-bottom:.45rem;background:#fafbfc}.structure-item h4{margin:0 0 .35rem;font-size:.9rem}.structure-item p{margin:0 0 .3rem;font-size:.84rem}.structure-item ul,.review-section ul{margin:0;padding-left:1.05rem;font-size:.84rem}.checklist{list-style:none;padding:0;margin:0}.checklist li{display:flex;gap:.45rem;padding:.3rem 0}.check-ok{color:#17573b}.check-warning{color:#9a4b07}.guardrail-list{display:grid;gap:.6rem}.guardrail-item{border-radius:10px;padding:.65rem;border:1px solid var(--line-soft)}.guardrail-warning{background:var(--warning-bg);border-color:var(--warning-line)}.guardrail-critical{background:var(--critical-bg);border-color:var(--critical-line)}.guardrail-item h4{margin:0 0 .35rem}.guardrail-item p{margin:0 0 .45rem;font-size:.85rem}.guardrail-details{margin-bottom:.4rem}.guardrail-details ul{margin:0;padding-left:1rem}.guardrail-checklist{display:grid;gap:.35rem}.explicit-gates-list{list-style:none;margin:0;padding:0;display:grid;gap:.55rem}.explicit-gate-item{border:1px solid #dbe4ef;border-radius:8px;background:#f8fafc;padding:.5rem .6rem;display:flex;align-items:flex-start;gap:.5rem}.explicit-gate-icon{color:#8b9ab5;margin-top:.08rem}.explicit-gate-ok{color:#2b8a5d}.explicit-gate-label{margin:0;font-size:.84rem;font-weight:600;color:#0f172a}.explicit-gate-link{display:inline-block;font-size:.8rem;margin-top:.2rem}.confirmation-text{display:inline-block;margin:.2rem 0 .5rem;padding:.35rem .5rem;border:1px solid var(--line-soft);border-radius:6px;background:#f9fafb;font-family:IBM Plex Mono,SFMono-Regular,Menlo,monospace;font-size:.82rem}.review-section textarea{width:100%;min-height:90px;resize:vertical}.modal-actions{margin-top:1rem;display:flex;justify-content:flex-end;gap:.55rem}@media(max-width:1180px){.portal-layout,.memory-toolbar,.module-grid,.context-grid,.emergency-grid{grid-template-columns:1fr}.editor-card textarea{min-height:300px}}.context-selector{max-width:1200px;margin:0 auto;padding:1rem}.context-selector-header{margin-bottom:1.5rem}.context-selector-header h2{font-size:1.6rem;font-weight:700;color:#0f172a;margin-bottom:.35rem}.context-search{position:relative;margin-bottom:1.5rem}.context-search-icon{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#94a3b8}.context-search-input{width:100%;padding:.75rem 1rem .75rem 3rem;border:1px solid #cbd5e1;border-radius:.5rem;font-size:1rem}.context-search-input:focus{outline:none;border-color:#059669;box-shadow:0 0 0 3px #0596691a}.context-selector .context-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1rem;margin-bottom:2rem}.no-contexts{grid-column:1 / -1;text-align:center;padding:3rem;color:#64748b}.context-card{padding:1.5rem;background:#fff;border:1px solid #e2e8f0;border-radius:.75rem;cursor:pointer;transition:all .2s ease}.context-card:hover{border-color:#059669;box-shadow:0 4px 12px #00000014;transform:translateY(-2px)}.context-card-selected{border-color:#059669;border-width:2px;background:#f0fdfa}.context-card-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:1rem;gap:.5rem}.context-card-title{font-size:1.05rem;font-weight:600;color:#0f172a;margin:0 0 .25rem}.context-card-subtitle{font-size:.8rem;color:#64748b;margin:0}.env-badge{padding:.25rem .5rem;font-size:.7rem;font-weight:700;border-radius:.25rem;text-transform:uppercase;white-space:nowrap}.env-badge-test{background:#dbeafe;color:#1e40af}.env-badge-pilot{background:#fef3c7;color:#92400e}.env-badge-production{background:#fee2e2;color:#991b1b}.context-stats{display:flex;gap:1rem;margin-bottom:1rem}.stat-badge{display:flex;align-items:center;gap:.5rem}.stat-icon{color:#64748b}.stat-content{display:flex;flex-direction:column}.stat-value{font-size:1rem;font-weight:600;color:#0f172a;line-height:1.2}.stat-label{font-size:.75rem;color:#64748b}.context-health{margin-bottom:1rem;padding-top:1rem;border-top:1px solid #e2e8f0}.connector-indicators{display:flex;gap:.75rem;flex-wrap:wrap}.connector-indicator{display:inline-flex;align-items:center;gap:.25rem;font-size:.75rem;padding:.25rem .5rem;border-radius:.25rem}.connector-healthy{background:#d1fae5;color:#065f46}.connector-degraded{background:#fef3c7;color:#92400e}.connector-failed{background:#fee2e2;color:#991b1b}.context-card-footer{font-size:.75rem;color:#94a3b8;margin:0}.context-details-panel{padding:2rem;background:#f0fdfa;border:2px solid #059669;border-radius:.75rem;margin-bottom:2rem}.context-details-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:2rem}.context-details-header h3{font-size:1.4rem;font-weight:700;color:#0f172a;margin:0 0 .5rem}.icon-button{background:transparent;border:none;color:#64748b;cursor:pointer;padding:.5rem;border-radius:.25rem;transition:all .2s}.icon-button:hover{background:#e2e8f0;color:#0f172a}.context-details-section{margin-bottom:2rem}.context-details-section h4{display:flex;align-items:center;gap:.5rem;font-size:1rem;font-weight:600;color:#0f172a;margin:0 0 1rem}.detail-list{display:grid;gap:.75rem}.detail-row{display:grid;grid-template-columns:180px 1fr;gap:1rem;align-items:center}.detail-row dt{font-size:.875rem;color:#64748b;font-weight:500}.detail-row dd{margin:0;font-size:.875rem;color:#0f172a;display:flex;align-items:center;gap:.5rem}.copy-button{padding:.25rem .5rem;font-size:.75rem;background:#fff;border:1px solid #cbd5e1;border-radius:.25rem;cursor:pointer;transition:all .2s}.copy-button:hover{background:#f1f5f9;border-color:#94a3b8}.authority-list,.connector-list{display:grid;gap:.5rem}.authority-item,.connector-item{display:flex;align-items:center;justify-content:space-between;padding:.75rem;background:#fff;border:1px solid #e2e8f0;border-radius:.5rem;font-size:.875rem}.authority-name{font-weight:500;color:#0f172a}.authority-role{padding:.25rem .5rem;background:#f1f5f9;color:#475569;border-radius:.25rem;font-size:.75rem;text-transform:uppercase}.connector-status{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:500;text-transform:capitalize}.connector-status-healthy{background:#d1fae5;color:#065f46}.connector-status-degraded{background:#fef3c7;color:#92400e}.connector-status-failed{background:#fee2e2;color:#991b1b}.connector-status-not_configured{background:#f1f5f9;color:#475569}.governance-notice{display:flex;gap:1rem;padding:1rem;background:#fef3c7;border:1px solid #fbbf24;border-radius:.5rem;margin-bottom:2rem}.governance-notice-title{font-weight:600;color:#78350f;margin:0 0 .25rem}.context-details-actions{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding-top:2rem;border-top:1px solid #cbd5e1}.context-details-actions button{display:inline-flex;align-items:center;gap:.5rem}.current-context-badge{display:inline-flex;align-items:center;gap:.5rem;margin-top:.5rem;background:#eef6f3;border:1px solid #b9d8cb;border-radius:999px;padding:.25rem .5rem;font-size:.78rem}button.small{padding:.2rem .45rem;font-size:.72rem}@media(max-width:900px){.context-selector .context-grid{grid-template-columns:1fr}.detail-row{grid-template-columns:1fr;gap:.3rem}.context-details-actions{justify-content:stretch;flex-direction:column}.context-details-actions button{width:100%;justify-content:center}}
